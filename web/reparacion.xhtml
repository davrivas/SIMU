<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <meta charset="utf-8"/>
        <title>Reparación - SIMU</title>
        <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"/>
        <link rel="shortcut icon" href="#{request.contextPath}/resources/img/favicon.png"/>
        <link rel="stylesheet" href="#{request.contextPath}/resources/css/bootstrap.min.css"/>
        <link rel="stylesheet" href="#{request.contextPath}/resources/css/reparacion.css"/>
        <link rel="stylesheet" href="#{request.contextPath}/resources/css/modal.css"/>
        <link rel="stylesheet" href="#{request.contextPath}/resources/css/font-awesome.min.css"/>
        <link href="https://fonts.googleapis.com/css?family=Merriweather" rel="stylesheet"/>
        <link rel="stylesheet" href="#{request.contextPath}/resources/css/normalizar.css"/>
        <link rel="stylesheet" href="#{request.contextPath}/resources/css/nav-bar.css"/>
        <link rel="stylesheet" href="#{request.contextPath}/resources/css/footer.css"/>
    </h:head>
    <h:body>
        <div class="contenedor container-fluid">
            <ui:include src="/WEB-INF/templates/cliente/navbar.xhtml"/>

            <div class="row">
                <div class="col-md-12 medio">
                    <h:panelGroup rendered="#{empty sesionControlador.persona}">
                        <div class="mt-5"><p>&nbsp;</p></div>
                        <!--FRASE-->
                        <article class="mt-5 col-md-12  frace">
                            <blockquote class="blockquote text-center">
                                <p class="mt-3"><strong>“La amistad no pide nada a cambio, salvo un mantenimiento.”</strong></p>
                                <footer class="blockquote-footer">Georges Brassens</footer>
                            </blockquote>
                        </article>
                        <!--FIN FRASE-->

                        <!--SERVICIOS-->
                        <div class="row justify-content-around  mb-5">
                            <!--SERVICIO 1-->
                            <section class="col-sm-10 col-md-3 mt-3 hola hola1">
                                <h5>Recibe nuestro respaldo en servicios y repuestos</h5>

                                <li class="list-inline-item mt-4">* Revisiones Periodicas</li>
                                <li class="list-inline-item">* Mantenimientos generales</li>
                                <li class="list-inline-item">* Cambio de Partes</li>
                                <li class="list-inline-item">* Latoneria y Pintura</li>
                                <li class="list-inline-item">* Reparaciones al motor</li>
                            </section>

                            <section class="col-sm-10 col-md-3 mt-3  hola hola2">
                                <h5>Historial de tu motocicleta</h5>

                                <p>Puedes revisar el historial de tu motocicleta</p>

                                <h5 class="mt-5">Agendar cita</h5>

                                <li class="list-inline-item mt-1">Puedes agendar una cita en nuestro taller segun lo disponga nuestros mecánicos</li>

                                <div class="row d-flex justify-content-center">
                                    <button class="btn btn-simu-naranja m-1" type="button" data-toggle="modal" data-target="#registrarse">
                                        <span class="fa fa-user-plus"></span> Regístrate
                                    </button>
                                    <button class="btn btn-simu-naranja m-1" type="button" data-toggle="modal" data-target="#inicia-sesion">
                                        <span class="fa fa-sign-in"></span> Inicia sesión
                                    </button>
                                </div>
                            </section>

                            <section class="col-sm-10 col-md-3 mt-3 hola hola3">
                                <h5>Valores Agregados</h5>
                                <p class="mt-4">En nuestro taller trabajamos para la satisfacción de nuestros clientes, implementando procesos que mejoren la experiencia del servicio</p>
                            </section>
                        </div>
                    </h:panelGroup>

                    <h:panelGroup rendered="#{not empty sesionControlador.persona}">
                        <div class="row mt-3 hola hola4">
                            <div class="col-12">
                                <p class="mt-lg-1">&nbsp;</p>
                                <h1 class="text-center mt-3 mt-lg-5">Reparaciones</h1>
                            </div>

                            <div class="col-12 col-lg-8" style="padding: 20px;">
                                <div class="row mb-2">
                                    <div class="col d-flex justify-content-start">
                                        <h2>Mis motos</h2>
                                    </div>
                                    <!--                                    <div class="col d-flex justify-content-end">
                                                                            <button class="btn-simu-naranja" type="button" data-toggle="modal" data-target="#agregar-moto">
                                                                                <span class="fa fa-plus"></span> Agregar Moto
                                                                            </button>
                                                                        </div>-->
                                </div>

                                <h:dataTable value="#{sesionControlador.persona.cliente.motoList}" class="table table-striped table-responsive" var="m">
                                    <h:column>
                                        <f:facet name="header">Marca y referencia</f:facet>
                                        <h:outputText value="#{m.producto.marcaProducto.marcaProducto} #{m.producto.referencia}"/>
                                    </h:column>
                                    <h:column>
                                        <f:facet name="header">Placa</f:facet>
                                        <h:outputText value="#{m.placa}"/>
                                    </h:column>
                                    <h:column>
                                        <f:facet name="header">Cilindraje</f:facet>
                                        <h:outputText value="#{m.cilindraje} cc"/>
                                    </h:column>
                                    <h:column>
                                        <f:facet name="header">Color</f:facet>
                                        <h:outputText value="#{m.color}"/>
                                    </h:column>
                                    <h:column>
                                        <f:facet name="header">Modelo</f:facet>
                                        <h:outputText value="#{m.modelo}"/>
                                    </h:column>
                                    <h:column>
                                        <f:facet name="header">Kilometraje</f:facet>
                                        <h:outputText value="#{m.kilometraje} km"/>
                                    </h:column>
                                    <h:column>
                                        <f:facet name="header">Revisar historial</f:facet>
                                        <h:commandLink class="btn-simu-naranja btn-block mt-3 d-flex justify-content-center align-items-center" actionListener="#{reparacionClienteControlador.seleccionarMoto(m)}" a:data-toggle="modal" a:data-target="#historial">
                                            <f:ajax render=":contenidoModalHistorial"/>
                                            <span class="fa fa-history"></span>
                                        </h:commandLink>
                                    </h:column>
                                </h:dataTable>
                            </div>

                            <div class="col-12 col-lg-4" style="padding: 20px;">
                                <button class="btn-simu-naranja btn-block mt-3 mb-3" id="agendar" type="button" data-toggle="modal" data-target="#agendar-cita">
                                    Agendar cita
                                </button>

                                <button class="btn-simu-naranja btn-block mt-3 mb-3" type="button" data-toggle="modal" data-target="#sincal">
                                    Reparaciones por calificar (#{reparacionClienteControlador.reparacionesSinCalificar.size()})
                                </button>

                                <button class="btn-simu-naranja btn-block mt-3 mb-3" type="button" data-toggle="modal" data-target="#concal">
                                    Reparaciones calificadas (#{reparacionClienteControlador.reparacionesCalificadas.size()})
                                </button>
                            </div>
                        </div>
                    </h:panelGroup>
                </div>
            </div>

            <ui:include src="/WEB-INF/templates/cliente/footer.xhtml"/>
        </div>

        <h:panelGroup rendered="#{empty sesionControlador.persona}">
            <ui:include src="/WEB-INF/templates/iniciarsesion.xhtml"/>
            <ui:include src="/WEB-INF/templates/cerrarsesion.xhtml"/>
            <ui:include src="/WEB-INF/templates/cliente/modales/registrarse.xhtml" />
        </h:panelGroup>

        <h:panelGroup rendered="#{not empty sesionControlador.persona}">
            <ui:include src="/WEB-INF/templates/cliente/modales/agendar.xhtml"/>
            <ui:include src="/WEB-INF/templates/cliente/modales/historial.xhtml"/>
            <ui:include src="/WEB-INF/templates/cliente/modales/sincal.xhtml"/>
            <ui:include src="/WEB-INF/templates/cliente/modales/concal.xhtml"/>
            <ui:include src="/WEB-INF/templates/cliente/modales/calificar.xhtml"/>
        </h:panelGroup>

        <ui:include src="/WEB-INF/templates/scripts.xhtml"/>
        <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    </h:body>
</html>

